<?xml version="1.0" encoding="utf-8"?>
<odoo>
    
    <!-- Invoice Template Tree View -->
    <record id="view_invoice_template_tree" model="ir.ui.view">
        <field name="name">invoice.template.tree</field>
        <field name="model">invoice.template</field>
        <field name="arch" type="xml">
            <tree string="Invoice Templates">
                <field name="sequence" widget="handle"/>
                <field name="name"/>
                <field name="code"/>
                <field name="description"/>
                <field name="is_default"/>
                <field name="active"/>
            </tree>
        </field>
    </record>
    
    <!-- Invoice Template Form View -->
    <record id="view_invoice_template_form" model="ir.ui.view">
        <field name="name">invoice.template.form</field>
        <field name="model">invoice.template</field>
        <field name="arch" type="xml">
            <form string="Invoice Template">
                <sheet>
                    <div class="oe_button_box" name="button_box">
                        <button name="toggle_active" type="object" class="oe_stat_button" icon="fa-archive">
                            <field name="active" widget="boolean_button" options='{"terminology": "archive"}'/>
                        </button>
                    </div>
                    <group>
                        <group>
                            <field name="name"/>
                            <field name="code"/>
                            <field name="sequence"/>
                            <field name="is_default"/>
                        </group>
                        <group>
                            <field name="report_name"/>
                            <field name="preview_image" widget="image" class="oe_avatar"/>
                        </group>
                    </group>
                    <group>
                        <field name="description" placeholder="Template description..."/>
                    </group>

                    <!-- Action Basin Template Specific Settings -->
                    <notebook invisible="code != 'action_basin'">
                        <page string="Header Settings" name="header_settings">
                            <group>
                                <group string="Company Information">
                                    <field name="company_name_override" placeholder="Leave empty to use company name"/>
                                    <field name="show_ta_field"/>
                                    <field name="ta_field" invisible="not show_ta_field" placeholder="Trading as name"/>
                                </group>
                                <group string="Subject Field">
                                    <field name="show_subject_field"/>
                                </group>
                            </group>
                        </page>

                        <page string="Banking Details" name="banking_details">
                            <group>
                                <field name="show_banking_details"/>
                                <field name="show_ecocash"/>
                            </group>

                            <group string="Banking Section Titles" invisible="not show_banking_details">
                                <group>
                                    <field name="usd_banking_title"/>
                                </group>
                                <group>
                                    <field name="zig_banking_title"/>
                                </group>
                            </group>

                            <group string="Banking Details 1" invisible="not show_banking_details">
                                <group>
                                    <field name="usd_bank_name"/>
                                    <field name="usd_account_type"/>
                                    <field name="usd_account_name"/>
                                    <field name="usd_account_number"/>
                                </group>
                                <group>
                                    <field name="usd_branch_code"/>
                                    <field name="usd_branch_name"/>
                                    <field name="usd_swift_code"/>
                                </group>
                            </group>

                            <group string="Banking Details 2" invisible="not show_banking_details">
                                <group>
                                    <field name="zig_bank_name"/>
                                    <field name="zig_account_type"/>
                                    <field name="zig_account_name"/>
                                    <field name="zig_account_number"/>
                                </group>
                                <group>
                                    <field name="zig_branch_code"/>
                                    <field name="zig_branch_name"/>
                                    <field name="zig_swift_code"/>
                                </group>
                            </group>

                            <group string="Mobile Details" invisible="not show_ecocash">
                                <field name="ecocash_title"/>
                                <field name="ecocash_number"/>
                            </group>
                        </page>

                        <page string="Terms &amp; Footer" name="terms_footer">
                            <group>
                                <group string="Terms &amp; Conditions">
                                    <field name="show_terms_conditions"/>
                                    <field name="terms_conditions" widget="text" invisible="not show_terms_conditions"/>
                                </group>
                                <group string="E&amp;OE">
                                    <field name="show_eoe"/>
                                    <field name="eoe_title" invisible="not show_eoe"/>
                                    <field name="eoe_text" invisible="not show_eoe"/>
                                </group>
                            </group>

                            <group string="Footer">
                                <field name="show_footer_message"/>
                                <field name="footer_message" invisible="not show_footer_message"/>
                            </group>
                        </page>
                    </notebook>
                </sheet>
            </form>
        </field>
    </record>
    
    <!-- Invoice Template Kanban View -->
    <record id="view_invoice_template_kanban" model="ir.ui.view">
        <field name="name">invoice.template.kanban</field>
        <field name="model">invoice.template</field>
        <field name="arch" type="xml">
            <kanban string="Invoice Templates" class="o_kanban_mobile">
                <field name="name"/>
                <field name="code"/>
                <field name="description"/>
                <field name="is_default"/>
                <field name="preview_image"/>
                <templates>
                    <t t-name="kanban-box">
                        <div class="oe_kanban_card oe_kanban_global_click">
                            <div class="o_kanban_image">
                                <img t-if="record.preview_image.value" 
                                     t-att-src="kanban_image('invoice.template', 'preview_image', record.id.raw_value)" 
                                     alt="Template Preview" class="o_image_64_cover"/>
                                <div t-else="" class="o_kanban_image_placeholder">
                                    <i class="fa fa-file-text-o fa-3x text-muted"/>
                                </div>
                            </div>
                            <div class="oe_kanban_details">
                                <div class="o_kanban_record_top">
                                    <div class="o_kanban_record_headings">
                                        <strong class="o_kanban_record_title">
                                            <field name="name"/>
                                            <span t-if="record.is_default.raw_value" class="badge badge-success ml-2">Default</span>
                                        </strong>
                                    </div>
                                </div>
                                <div class="o_kanban_record_body">
                                    <field name="description"/>
                                </div>
                            </div>
                        </div>
                    </t>
                </templates>
            </kanban>
        </field>
    </record>
    
    <!-- Invoice Template Action -->
    <record id="action_invoice_template" model="ir.actions.act_window">
        <field name="name">Invoice Templates</field>
        <field name="res_model">invoice.template</field>
        <field name="view_mode">kanban,tree,form</field>
        <field name="help" type="html">
            <p class="o_view_nocontent_smiling_face">
                Create your first invoice template!
            </p>
            <p>
                Invoice templates allow you to customize the appearance of your invoice PDFs.
                You can create multiple templates and choose which one to use for each invoice.
            </p>
        </field>
    </record>
    
</odoo>
